# 調査依頼: スニペット保存後に白紙になるバグ

## AGENT_ROLE=investigator

あなたはバグ調査担当です。以下の問題の根本原因を特定してください。

## 許可事項
ユーザーからの明示的許可: メインブランチで作業してOKです。Worktree/ブランチを切る必要はありません。
ただし、このタスクは**調査のみ**です。コードの変更は行わないでください。

## バグ再現手順
1. スニペットエディタで新規スニペットを作成し、内容を入力
2. 保存する
3. 別のスニペットを選択して表示する
4. 先ほど保存した新規スニペットに戻る
5. **結果**: 内容が白紙（空白）になっている
6. ウィンドウを一度閉じて（×ボタン）再度開くと、内容は正しく表示される

## 調査対象
- `src/Revclip/Revclip/UI/SnippetEditor/RCSnippetEditorWindowController.m` — メインのエディタコントローラ
- `src/Revclip/Revclip/UI/SnippetEditor/` ディレクトリ配下の全ファイル
- スニペットのデータモデル・永続化関連ファイル
- スニペット選択時のデータバインディング/表示更新ロジック

## 調査観点
1. **スニペット切り替え時のデータフロー**: 別のスニペットを選択した際に、テキストビューの内容がどう更新されるか
2. **NSTextView の内容更新**: `setString:` や `textStorage` への書き込みタイミング
3. **KVO/Binding の問題**: データバインディングが正しくテキストビューに反映されているか
4. **描画タイミング**: `needsDisplay` や `setNeedsLayout` が適切に呼ばれているか
5. **テンプレート関連**: スニペットテンプレートの挙動に関連する問題がないか

## 出力フォーマット
以下の形式で調査結果を報告してください:

### 根本原因
（原因の詳細説明）

### 該当コード
（問題のあるコード箇所、ファイル名と行番号）

### 推奨修正方針
（どう修正すべきかの方針。コードは書かなくてよい）

### 影響範囲
（この修正が他の機能に与える影響の有無）
